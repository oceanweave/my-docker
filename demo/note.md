简单总结
1. 与宿主机隔离的容器进程空间：通过 linux namespace 机制，为容器进程创建一个隔离的空间
    - 因为 pid 隔离，所以容器进程为 1 号 
    - 因为 mount 隔离，所以可以通过 aufs 联合挂载等机制，为容器挂载新的根目录 
    - 因为 user 隔离，所以容器可以是 root 用户，但是实际仍对应宿主机上的普通用户 
    - 因为 uts 隔离，所以可以在容器空间内，配置宿主机名和域名 
    - 因为 net 隔离，所以容器有单独的网络栈 
    - 因为 ipc 隔离，所以容器内可以创建独立于宿主机的管道通信等（看不到宿主机的通信管道）
2. 容器进程及衍生子进程的管理：利用 cgroup 对进程组进行管控，也就是对容器进程及后续创建的子进程形成的进程组，进行管理
   - 为某个进程创建新 cgroup 后，该进程后续创建的所有子进程都会纳管到该新 cgroup
   - 因此后续通过限制该 cgroup，便可以对该进程及所有子进程的资源进行限制
3. 容器进程的资源限制：cgroup 关联到 资源 subsystem，才可进行资源的 控制
   - 限制的实现之前，需要将该 cgroup 关联到【资源 subsystem（如 内存 memory）】
   - 之后将需要限制的进程 id 和 资源限额，写入到 cgroup 中对应的资源限制文件中，如 memory.limit，task 之类
   - 只写入父进程 id 即可，其可以限制所有衍生的子进程
   - cgroup v1 有默认创建的 与资源管理的Cgroup， 只要在 Cgroup 文件夹下创建 子文件夹，便可认为创建个【可管控该资源的新子Cgroup】，节省了 新Cgroup 和 资源 subsystem 关联的步骤
4. 将容器进程移入到新 Cgroup 中，就是在 Cgroup 中的 tasks 文件写入进程 id